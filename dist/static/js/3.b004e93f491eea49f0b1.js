webpackJsonp([3],{720:function(t,e,a){a(734);var s=a(1)(a(725),a(740),"data-v-4e7da450",null);t.exports=s.exports},725:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(20),i=a(2);e.default={data:function(){return{totalPage:1,tableData:[],activeselectvalue:"",activeselectdata:[{activeId:"",activeName:"全部"},{activeId:"0",activeName:"消费返还"},{activeId:"3",activeName:"消费集点送"},{activeId:"4",activeName:"新客奖励"},{activeId:"2",activeName:"新会员"},{activeId:"5",activeName:"回归礼"},{activeId:"1",activeName:"指定单品送"}],stateselectvalue:"",stateselectdata:[{stateId:"",stateName:"全部"},{stateId:"CREATED",stateName:"已创建未打款"},{stateId:"PAID",stateName:"已打款"},{stateId:"PAUSE",stateName:"活动已暂停"},{stateId:"CLOSED",stateName:"活动已结束"},{stateId:"SETTLE",stateName:"活动已清算"}],timevalue:"",page:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},editable:!1}},mounted:function(){var t=this.qs.stringify({pageNumber:"1",pageSize:"10"});this.listQuery(t)},methods:{refresh:function(){var t=this;(0,i.alipyRefresh)().then(function(e){1e4==e.errorCode?t.$message({message:"恭喜你，刷新成功了!",type:"success"}):30005==e.errorCode?t.$router.push("/login"):t.$message({message:"出现问题,请联系管理员!",type:"warning"})})},end:function(t,e){var a=this;this.$confirm("暂停/结束该活动?, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.ended(t,e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},ended:function(t,e){var a=this,s=void 0;"READY"==e?s="PAUSE":"PAUSE"==e?s="READY":"CREATED"==e&&(s="CLOSED");var n=this.qs.stringify({id:t,status:s});(0,i.alipyEnd)(n).then(function(t){a.listQuery(),a.$message({type:"success",message:t.message})})},closed:function(t){t&&window.open(t)},listQuery:function(t){var e=this;(0,i.getAlipyList)(t).then(function(t){1e4==t.errorCode?(e.tableData=t.content.resultList,e.totalPage=t.content.totalCount):30005==t.errorCode&&e.$router.push("/login")})},handleCurrentChange:function(t){this.page=t;var e=this.qs.stringify({pageNumber:t,pageSize:"10"});this.listQuery(e)},query:function(){var t=this.qs.stringify({cashType:this.activeselectvalue,status:this.stateselectvalue,startTime:this.startTime,endTime:this.endTime,pageNumber:this.page,pageSize:"10"});this.listQuery(t)},timeChange:function(){this.timevalue&&(this.startTime=(0,s.formateDate)(this.timevalue[0]),this.endTime=(0,s.formateDate)(this.timevalue[1]))}}}},729:function(t,e,a){e=t.exports=a(716)(),e.push([t.i,".query_refresh[data-v-4e7da450]{width:70px;float:right}.zj-mian[data-v-4e7da450]{outline:1px solid red}.busarea_active_main[data-v-4e7da450]{width:98%;margin:0 10px}","",{version:3,sources:["/Users/CD/Desktop/sqym/vuejs2-0jiagou1-0/src/views/marketing-activity/alipay-active/packet-activelist.vue"],names:[],mappings:"AACA,gCACI,WAAY,AACZ,WAAa,CAChB,AACD,0BACI,qBAAuB,CAC1B,AACD,sCACI,UAAW,AAEX,aAAe,CAClB",file:"packet-activelist.vue",sourcesContent:["\n.query_refresh[data-v-4e7da450]{\n    width: 70px;\n    float: right;\n}\n.zj-mian[data-v-4e7da450]{\n    outline: 1px solid red;\n}\n.busarea_active_main[data-v-4e7da450]{\n    width: 98%;\n     /*outline: 1px solid red;*/\n    margin: 0 10px;\n}\n"],sourceRoot:""}])},734:function(t,e,a){var s=a(729);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(717)("2631e7de",s,!0)},740:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"busarea_active_main"},[a("div",{staticClass:"tab_header"},[a("span",{staticClass:"line_height_30 font14"},[t._v("活动类型 : ")]),t._v(" "),a("el-select",{staticClass:" margin_r_10",attrs:{placeholder:"请选择活动类型",size:"small"},model:{value:t.activeselectvalue,callback:function(e){t.activeselectvalue=e},expression:"activeselectvalue"}},t._l(t.activeselectdata,function(t){return a("el-option",{key:t.activeId,attrs:{label:t.activeName,value:t.activeId}})})),t._v(" "),a("span",{staticClass:" line_height_30 font14"},[t._v("活动状态 : ")]),t._v(" "),a("el-select",{staticClass:" margin_r_10",attrs:{placeholder:"请选择活动状态",size:"small"},model:{value:t.stateselectvalue,callback:function(e){t.stateselectvalue=e},expression:"stateselectvalue"}},t._l(t.stateselectdata,function(t){return a("el-option",{key:t.stateId,attrs:{label:t.stateName,value:t.stateId}})})),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("交易时间 : ")]),t._v(" "),a("el-date-picker",{attrs:{type:"daterange",editable:t.editable,size:"small",placeholder:"选择时间范围"},on:{change:t.timeChange},model:{value:t.timevalue,callback:function(e){t.timevalue=e},expression:"timevalue"}}),t._v(" "),a("el-button",{staticClass:"query_button",attrs:{type:"primary",size:"small"},on:{click:t.query}},[t._v("搜 索")]),t._v(" "),a("el-button",{staticClass:"query_refresh",attrs:{type:"primary",size:"small"},on:{click:t.refresh}},[t._v("刷新状态")])],1),t._v(" "),a("div",{staticClass:"tab_list"},[a("div",{staticClass:"block"},[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",width:"100",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"活动时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",[t._v(t._s(e.row.startTime)+" 至 "+t._s(e.row.endTime))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"couponName",label:"现金红包名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"已领金额/红包总金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",[t._v(t._s(e.row.sendMoney)+" 元/ "+t._s(e.row.totalMoney)+"元")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"linkMan",label:"红包领取数/总个数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n                            "+t._s(e.row.sendNum)+" / "+t._s(e.row.totalNum)+"\n                        ")]),t._v(" "),a("div",[a("router-link",{attrs:{to:{path:"pointgive",query:{id:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看详情")])],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"statusStr",label:"活动状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",["CREATED"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.closed(e.row.payUrl)}}},[t._v("去打款\n                            ")]):t._e(),t._v(" "),"CREATED"==e.row.status?a("span",{staticStyle:{color:"#ddd"}},[t._v(" |")]):t._e(),t._v(" "),"READY"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.end(e.row.id,e.row.status)}}},[t._v("暂停")]):t._e(),t._v(" "),"READY"==e.row.status?a("span",{staticStyle:{color:"#ddd"}},[t._v(" |")]):t._e(),t._v(" "),"PAUSE"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.end(e.row.id,e.row.status)}}},[t._v("开始")]):t._e(),t._v(" "),"PAUSE"==e.row.status?a("span",{staticStyle:{color:"#ddd"}},[t._v(" |")]):t._e(),t._v(" "),"PAUSE"==e.row.status||"READY"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.end(e.row.id,e.row.status)}}},[t._v("结束\n                            ")]):t._e(),t._v(" "),"PAUSE"==e.row.status||"READY"==e.row.status?a("span",{staticStyle:{color:"#ddd"}},[t._v(" |")]):t._e(),t._v(" "),a("router-link",{attrs:{to:{path:"packetnumberdetail",query:{id:e.row.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看详情")])],1)],1)]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"foot_nav",attrs:{"page-size":10,layout:" prev, pager, next,jumper",total:t.totalPage},on:{"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=3.b004e93f491eea49f0b1.js.map